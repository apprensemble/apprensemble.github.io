<script src="raphael-min.js"></script> 
<script src="underscore-min.js"></script> 
<script src="sequence-diagram-min.js"></script>
<script src="jquery.min.js"></script>
<textarea id="language" rows="10" cols="50">
Utilisateur->Client: -s adresseIP -n UserName
Client->Serveur:UserName
Note right of Serveur: attribution d'une cnx depuis son pool de fork.
Serveur->Client:Menu UserName
Serveur->Client:Liste Referentiels
Client->Utilisateur:mode?
Utilisateur->Client:mode (dl ou visu)
Client->Utilisateur:id Ã  visualiser?
Utilisateur->Client:id referentiel
Client->Serveur:dl ou visu
Client->Serveur:id_referentiel
Serveur->Client:contenu referentiel
Client->Utilisateur:ecrit vers ecran ou fichier
Utilisateur->Client:quitte
Client->Serveur:quitte
Note right of Serveur:Libere la connexion
Client->Utilisateur:Aurevoir
</textarea>
<button id="parse" type="button">dessiner</button>
<button id="clear" type="button">nettoyer</button>
<div id="diagram">Afficher le resultat ici</div> 
<script>
$(document).ready(function(){
    $('#parse').click(_.throttle( function() {
	$('#diagram').empty();
	var diagram = Diagram.parse($('#language').val());
	console.log(diagram);

	diagram.drawSVG('diagram', {theme: 'simple'});
	}, 100));
    $('#clear').click(_.throttle( function() {
	$('#diagram').empty();

	},100));
    });
</script>


